<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>파일 변환기 - 다양한 형식 변환을 간편하게</title>

    <!-- 구글 소유권 확인용 메타 태그 -->
    <meta name="google-adsense-account" content="ca-pub-2901016632257289">
    <meta name="google-site-verification" content="IjhN899NP-wECdgRleHF8Cug8DsmPEua2X8rX7yGHQI" />

    <!-- 구글 애드센스 광고 스크립트 -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2901016632257289" crossorigin="anonymous"></script>

    <style>
        body {
            background-color: #e6f2ff;
            font-family: Arial, sans-serif;
            padding: 30px;
            text-align: center;
            margin: 0;
            min-height: 100vh;
            padding-bottom: 120px; /* 하단 광고 공간 확보 */
        }
        .container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0px 0px 10px #ccc;
            display: inline-block;
            max-width: 600px;
            width: 100%;
        }
        input, select {
            margin: 10px;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        button {
            background-color: #4da6ff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }
        .message {
            color: red;
            font-weight: bold;
        }
        .section {
            margin: 40px auto;
            max-width: 700px;
            text-align: left;
        }
        h2 {
            color: #333;
        }

        #top-ad, #bottom-ad {
            width: 100%;
            margin: 20px 0;
        }
        #bottom-ad {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 320px;
            z-index: 1000;
        }
    </style>

    <script>
        function updateExtensionOptions() {
            const extMap = {
                csv: ['xlsx', 'txt'],
                xlsx: ['csv', 'txt'],
                png: ['jpg', 'pdf'],
                jpg: ['png', 'pdf'],
                docx: ['txt']
            };

            const fileInput = document.getElementById("file");
            const targetSelect = document.getElementById("target_ext");

            const filename = fileInput.value.split('\\').pop();
            const ext = filename.split('.').pop().toLowerCase();

            targetSelect.innerHTML = '';
            if (extMap[ext]) {
                extMap[ext].forEach(opt => {
                    const option = document.createElement("option");
                    option.value = opt;
                    option.text = opt;
                    targetSelect.appendChild(option);
                });
            } else {
                const option = document.createElement("option");
                option.text = '변환 불가';
                targetSelect.appendChild(option);
            }
        }
    </script>
</head>
<body>

    <!-- 상단 광고 -->
    <div id="top-ad">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-2901016632257289"
             data-ad-slot="6300978111"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>

    <div class="container">
        <h1>파일 변환기</h1>

        <!-- 소개 문구 -->
        <div class="section">
            <h2>간편한 파일 포맷 변환 도구</h2>
            <p>
                MyFileChanger는 별도의 프로그램 설치 없이 다양한 파일을 웹에서 즉시 변환할 수 있는 무료 도구입니다.
                CSV, XLSX, PNG, JPG, PDF, DOCX 형식 간의 상호 변환을 지원하며, 
                업로드된 파일은 일정 시간이 지나면 자동 삭제되어 안전하게 보호됩니다.
            </p>
        </div>

        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div class="message">{{ messages[0] }}</div>
            {% endif %}
        {% endwith %}

        <!-- 업로드 폼 -->
        <form method="post" enctype="multipart/form-data">
            <input type="file" name="file" id="file" onchange="updateExtensionOptions()" required><br>
            <select name="target_ext" id="target_ext" required>
                <option value="">변환 확장자 선택</option>
            </select><br>
            <button type="submit">변환하기</button>
        </form>
    </div>

    <!-- 사용 안내 / FAQ -->
    <div class="section">
        <h2>자주 묻는 질문</h2>
        <ul>
            <li><strong>Q. 어떤 파일을 변환할 수 있나요?</strong><br>CSV, XLSX, PNG, JPG, PDF, DOCX 형식 간 변환을 지원합니다.</li>
            <li><strong>Q. 업로드한 파일은 저장되나요?</strong><br>아니요, 서버에 임시 저장되며 30분 후 자동 삭제됩니다.</li>
            <li><strong>Q. 광고는 왜 표시되나요?</strong><br>서비스 운영을 위한 최소한의 광고입니다. 양해 부탁드립니다.</li>
            <li><strong>Q. 모바일에서도 사용할 수 있나요?</strong><br>네, 모든 기기와 브라우저에서 이용 가능합니다.</li>
        </ul>
    </div>

    <!-- 하단 광고 -->
    <div id="bottom-ad">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-2901016632257289"
             data-ad-slot="5799462830"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>

</body>
</html>
